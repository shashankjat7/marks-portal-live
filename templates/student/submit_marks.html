<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Submit Marks</title>
</head>
<body>
{% include 'navbar.html' %}
<div class="container" style="margin-top: 100px;text-align: center">
    <h1>Please Enter Your Marks Below</h1>
    <div class="row">
        {% include 'messages.html' %}
        <div class="col">
            <form action="" method="POST" class="form-submitMarks" id="addMarksForm" style="margin-top: 20px;">
                {% csrf_token %}
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">ROLL NUMBER</span>
                  </div>
                  <input type="text" name="roll_no" value="" class="form-control" placeholder="Enter Your ROLL NUMBER" autofocus required>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">Name</span>
                  </div>
                  <input type="text" name="name" value="" class="form-control" placeholder="Enter Your Name" autofocus required>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">Marks in Maths</span>
                  </div>
                  <input type="number" name="marks_maths" value="" id="marks_maths" class="form-control" placeholder="Enter Your marks in Maths out of 100" autofocus required max=100>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">Marks is Physics</span>
                  </div>
                  <input type="number" name="marks_physics" value="" id="marks_phy" class="form-control" placeholder="Enter Your marks in Physics out of 100" autofocus required>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">Marks in Chemistry</span>
                  </div>
                  <input type="number" name="marks_chemistry" value="" id="marks_chem" class="form-control" placeholder="Enter Your marks in Chemistry out of 100" autofocus required>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">Total</span>
                  </div>
                  <input type="number" name="total" value="" id="total" class="form-control" placeholder="" autofocus required>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="width: 170px;">Percentage</span>
                  </div>
                  <input type="number" step=".01" name="percentage" value="" id="percentage" class="form-control" placeholder="" autofocus required>
                </div>
                <button type="submit" class="btn btn-outline-success">SUBMIT</button>
            </form>
        </div>
    </div>
</div>
</body>

<script>

    let x = $('#marks_maths')
    let y = $('#marks_phy')
    let z = $('#marks_chem')
    let a = $('#total')
    let b =$('#percentage')
    x.on('propertychange input', function () {

     var m = parseInt(x.val())
     var p = parseInt(y.val())
     var c = parseInt(z.val())
     if(m<0){
         x.val(0)
         m=0
     }
     if(m>100){
         x.val(100)
         m=100
     }

     $('#total').val(m+p+c)
     $('#percentage').val(((m+p+c)/3).toFixed(2))


 });
    y.on('propertychange input', function () {

     var m = parseInt(x.val())

     var p = parseInt(y.val())
     var c = parseInt(z.val())
     if(p<0){
         y.val(0)
         p=0
     }
     if(p>100){
         y.val(100)
         p=100
     }
     $('#total').val(m+p+c)
     $('#percentage').val(((m+p+c)/3).toFixed(2))


 });
    z.on('propertychange input', function () {

     var m = parseInt(x.val())
     var p = parseInt(y.val())
     var c = parseInt(z.val())
     if(c<0){
         z.val(0)
         c=0
     }
     if(c>100){
         z.val(100)
         c=100
     }
     $('#total').val(m+p+c)
     $('#percentage').val(((m+p+c)/3).toFixed(2))


 });

a.on('propertychange input', function () {

     var m = parseInt(x.val())
     var p = parseInt(y.val())
     var c = parseInt(z.val())

     $('#total').val(m+p+c)
});
b.on('propertychange input', function () {

     var m = parseInt(x.val())
     var p = parseInt(y.val())
     var c = parseInt(z.val())

     $('#percentage').val(((m+p+c)/3).toFixed(2))
});

</script>
</html>